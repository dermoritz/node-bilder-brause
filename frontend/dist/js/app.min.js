!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=74)}([function(t,e,n){var r=n(1),i=n(4);t.exports=function(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return i(n)?e:r((function(e){return t(n,e)}));default:return i(n)&&i(o)?e:i(n)?r((function(e){return t(e,o)})):i(o)?r((function(e){return t(n,e)})):t(n,o)}}}},function(t,e,n){var r=n(4);t.exports=function(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}},function(t,e){t.exports=function(t){return function(e){var n=(e=e||{}).scope||{},r=e.tag||function(t,...e){return t.reduce((t,n,r)=>t+e[r-1]+n)},i=Object.keys(n).join(",");i=i.length?","+i:"";var o=new Function("tag"+i,"return "+t);return e.scope?o(r,...Object.values(n)):o.apply(this,[r])}}},function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,s){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,s,a){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,s,a,u){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,s,a,u,c){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,s,a,u,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e,n){var r=n(1),i=n(0),o=n(4);t.exports=function(t){return function e(n,s,a){switch(arguments.length){case 0:return e;case 1:return o(n)?e:i((function(e,r){return t(n,e,r)}));case 2:return o(n)&&o(s)?e:o(n)?i((function(e,n){return t(e,s,n)})):o(s)?i((function(e,r){return t(n,e,r)})):r((function(e){return t(n,s,e)}));default:return o(n)&&o(s)&&o(a)?e:o(n)&&o(s)?i((function(e,n){return t(e,n,a)})):o(n)&&o(a)?i((function(e,n){return t(e,s,n)})):o(s)&&o(a)?i((function(e,r){return t(n,e,r)})):o(n)?r((function(e){return t(e,s,a)})):o(s)?r((function(e){return t(n,e,a)})):o(a)?r((function(e){return t(n,s,e)})):t(n,s,a)}}}},function(t,e){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(1),i=n(8),o=r((function(t){return i(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));t.exports=o},function(t,e,n){var r=n(1),i=n(3),o=n(55),s=!{toString:null}.propertyIsEnumerable("toString"),a=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],u=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),c=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},l="function"!=typeof Object.keys||u?r((function(t){if(Object(t)!==t)return[];var e,n,r=[],l=u&&o(t);for(e in t)!i(e,t)||l&&"length"===e||(r[r.length]=e);if(s)for(n=a.length-1;n>=0;)i(e=a[n],t)&&!c(r,e)&&(r[r.length]=e),n-=1;return r})):r((function(t){return Object(t)!==t?[]:Object.keys(t)}));t.exports=l},function(t,e,n){var r=n(32),i=n(0)((function(t,e){return r({},t,e)}));t.exports=i},function(t,e,n){var r=n(0)((function(t,e){return Array.prototype.slice.call(e,0).sort((function(e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0}))}));t.exports=r},function(t,e,n){var r=n(33),i=n(9);t.exports=function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return r.apply(this,i(arguments))}},function(t,e,n){var r=n(36),i=n(37),o=n(38);function s(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function a(t,e,n,r){return t["@@transducer/result"](n[r](o(t["@@transducer/step"],t),e))}var u="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(t,e,n){if("function"==typeof t&&(t=i(t)),r(n))return function(t,e,n){for(var r=0,i=n.length;r<i;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return a(t,e,n,"fantasy-land/reduce");if(null!=n[u])return s(t,e,n[u]());if("function"==typeof n.next)return s(t,e,n);if("function"==typeof n.reduce)return a(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},function(t,e,n){var r=n(7);t.exports=function(t,e){return function(){var n=arguments.length;if(0===n)return e();var i=arguments[n-1];return r(i)||"function"!=typeof i[t]?e.apply(this,arguments):i[t].apply(i,Array.prototype.slice.call(arguments,0,n-1))}}},function(t,e,n){var r=n(41)(0,"toLowerCase");t.exports=r},function(t,e){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(0),i=n(68),o=r((function(t,e){return i([t],e)}));t.exports=o},function(t,e,n){var r=n(0),i=n(72),o=r((function(t,e){return i((function(t,e,n){return e}),t,e)}));t.exports=o},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,o,s,a;if(c(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):g(i,i.length)}function v(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var c=u.length,l=g(u,c);for(n=0;n<c;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return f(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return f(this,t,e,!0)},a.prototype.once=function(t,e){return c(e),this.on(t,h(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,h(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},a.prototype.listenerCount=v,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){t.exports=n(2)('tag(function() {\n  var strings = ["<div class=\\"nbb-root\\"></div>\\n"];\n  strings.raw = ["<div class=\\"nbb-root\\"></div>\\n"];\n  return strings;\n}())')},function(t,e,n){t.exports=n(2)('tag(function() {\n    var strings = [\n        "<div class=\\"nbb-folder\\">\\n    <div class=\\"nbb-folder-folders\\" data-folders></div>\\n    <div class=\\"nbb-folder-files\\" data-files></div>\\n</div>\\n"\n    ];\n\n    strings.raw = [\n        "<div class=\\"nbb-folder\\">\\n    <div class=\\"nbb-folder-folders\\" data-folders></div>\\n    <div class=\\"nbb-folder-files\\" data-files></div>\\n</div>\\n"\n    ];\n\n    return strings;\n}())')},function(t,e,n){t.exports=n(2)('tag(function() {\n    var strings = [\n        "<div class=\\"nbb-folder__folder-item\\">\\n    <div class=\\"nbb-folder__folder-item__name\\">",\n        "</div>\\n</div>\\n"\n    ];\n\n    strings.raw = [\n        "<div class=\\"nbb-folder__folder-item\\">\\n    <div class=\\"nbb-folder__folder-item__name\\">",\n        "</div>\\n</div>\\n"\n    ];\n\n    return strings;\n}(), name)')},function(t,e,n){t.exports=n(2)('tag(function() {\n    var strings = [\n        "<div class=\\"nbb-folder__image-item\\">\\n    <div class=\\"nbb-folder__image-item__name\\">",\n        "</div>\\n    <div class=\\"nbb-folder__image-item__image\\">\\n        <picture>\\n            ",\n        "\\n            <img src=\\"\\">\\n        </picture>\\n    </div>\\n</div>\\n"\n    ];\n\n    strings.raw = [\n        "<div class=\\"nbb-folder__image-item\\">\\n    <div class=\\"nbb-folder__image-item__name\\">",\n        "</div>\\n    <div class=\\"nbb-folder__image-item__image\\">\\n        <picture>\\n            ",\n        "\\n            <img src=\\"\\">\\n        </picture>\\n    </div>\\n</div>\\n"\n    ];\n\n    return strings;\n}(), name, thumbnails.map(t => "<source srcset=\\"" + t.url + "\\" media=\\"" + t.media + "\\">").join(\'\'))')},function(t,e,n){t.exports=n(2)('tag(function() {\n  var strings = ["<div class=\\"nbb-pagetitle\\"></div>\\n"];\n  strings.raw = ["<div class=\\"nbb-pagetitle\\"></div>\\n"];\n  return strings;\n}())')},function(t,e,n){t.exports=n(2)('tag(function() {\n  var strings = ["<div class=\\"nbb-breadcrump\\"></div>\\n"];\n  strings.raw = ["<div class=\\"nbb-breadcrump\\"></div>\\n"];\n  return strings;\n}())')},function(t,e,n){t.exports=n(2)('tag(function() {\n  var strings = ["<button>", "</button>\\n"];\n  strings.raw = ["<button>", "</button>\\n"];\n  return strings;\n}(), name)')},function(t,e,n){var r=n(29),i=n(30);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],u=e.base?o[0]+e.base:o[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var f=a(l),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(s[f].references++,s[f].updater(p)):s.push({identifier:l,updater:g(p,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function p(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function h(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,v=0;function g(t,e){var n,r,i;if(e.singleton){var o=v++;n=d||(d=c(e)),r=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else n=c(e),r=h.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var o=u(t,e),c=0;c<n.length;c++){var l=a(n[c]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}n=o}}}},function(t,e,n){t.exports=n.p+"css/app.min.css"},function(t,e){window.toDOM=t=>(new DOMParser).parseFromString(t,"text/html").documentElement.querySelector("body").firstChild,window.wait=t=>new Promise(e=>{setTimeout(()=>{e()},t)}),window.randomInt=(t,e)=>(t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t),window.ksortObjArray=(t,e)=>t.sort((t,n)=>{let r=0;return t[e]>n[e]?r=1:t[e]<n[e]&&(r=-1),r})},function(t,e,n){var r=n(3);t.exports="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,i=arguments.length;n<i;){var o=arguments[n];if(null!=o)for(var s in o)r(s,o)&&(e[s]=o[s]);n+=1}return e}},function(t,e,n){var r=n(5),i=n(34),o=n(35),s=n(39);t.exports=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return r(arguments[0].length,o(i,arguments[0],s(arguments)))}},function(t,e){t.exports=function(t,e){return function(){return e.call(this,t.apply(this,arguments))}}},function(t,e,n){var r=n(6)(n(14));t.exports=r},function(t,e,n){var r=n(1),i=n(7),o=n(8),s=r((function(t){return!!i(t)||!!t&&("object"==typeof t&&(!o(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}));t.exports=s},function(t,e){var n=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();t.exports=function(t){return new n(t)}},function(t,e,n){var r=n(5),i=n(0)((function(t,e){return r(t.length,(function(){return t.apply(e,arguments)}))}));t.exports=i},function(t,e,n){var r=n(15),i=n(1)(r("tail",n(40)(1,1/0)));t.exports=i},function(t,e,n){var r=n(15),i=n(6)(r("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})));t.exports=i},function(t,e,n){var r=n(0),i=n(42),o=n(43),s=n(45),a=r((function(t,e){return o(t+1,(function(){var n=arguments[t];if(null!=n&&i(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(s(n)+' does not have a method named "'+e+'"')}))}));t.exports=a},function(t,e){t.exports=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object AsyncGeneratorFunction]"===e}},function(t,e,n){var r=n(5),i=n(1),o=n(0),s=n(44),a=o((function(t,e){return 1===t?i(e):r(t,s(t,[],e))}));t.exports=a},function(t,e,n){var r=n(5),i=n(4);t.exports=function t(e,n,o){return function(){for(var s=[],a=0,u=e,c=0;c<n.length||a<arguments.length;){var l;c<n.length&&(!i(n[c])||a>=arguments.length)?l=n[c]:(l=arguments[a],a+=1),s[c]=l,i(l)||(u-=1),c+=1}return u<=0?o.apply(this,s):r(u,t(e,s,o))}}},function(t,e,n){var r=n(1),i=n(46),o=r((function(t){return i(t,[])}));t.exports=o},function(t,e,n){var r=n(47),i=n(57),o=n(58),s=n(59),a=n(10),u=n(60);t.exports=function t(e,n){var c=function(i){var o=n.concat([e]);return r(i,o)?"<Circular>":t(i,o)},l=function(t,e){return i((function(e){return o(e)+": "+c(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+i(c,e).join(", ")+"))";case"[object Array]":return"["+i(c,e).concat(l(e,u((function(t){return/^\d+$/.test(t)}),a(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+c(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?c(NaN):o(s(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+c(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+c(e.valueOf())+")":o(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var f=e.toString();if("[object Object]"!==f)return f}return"{"+l(e,a(e)).join(", ")+"}"}}},function(t,e,n){var r=n(48);t.exports=function(t,e){return r(e,t,0)>=0}},function(t,e,n){var r=n(49);t.exports=function(t,e,n){var i,o;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(i=1/e;n<t.length;){if(0===(o=t[n])&&1/o===i)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(o=t[n])&&o!=o)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(r(t[n],e))return n;n+=1}return-1}},function(t,e,n){var r=n(0),i=n(50),o=r((function(t,e){return i(t,e,[],[])}));t.exports=o},function(t,e,n){var r=n(51),i=n(52),o=n(53),s=n(3),a=n(54),u=n(10),c=n(56);function l(t,e,n,o){var s=r(t),a=r(e);function u(t,e){return f(t,e,n.slice(),o.slice())}return!i((function(t,e){return!i(u,e,t)}),a,s)}function f(t,e,n,r){if(a(t,e))return!0;var i=c(t);if(i!==c(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===o(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!a(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!a(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var p=n.length-1;p>=0;){if(n[p]===t)return r[p]===e;p-=1}switch(i){case"Map":return t.size===e.size&&l(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&l(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var h=u(t);if(h.length!==u(e).length)return!1;var d=n.concat([t]),v=r.concat([e]);for(p=h.length-1;p>=0;){var g=h[p];if(!s(g,e)||!f(e[g],t[g],d,v))return!1;p-=1}return!0}t.exports=f},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e){t.exports=function(t,e,n){for(var r=0,i=n.length;r<i;){if(t(e,n[r]))return!0;r+=1}return!1}},function(t,e){t.exports=function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}},function(t,e){t.exports="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(3),i=Object.prototype.toString,o=function(){return"[object Arguments]"===i.call(arguments)?function(t){return"[object Arguments]"===i.call(t)}:function(t){return r("callee",t)}}();t.exports=o},function(t,e,n){var r=n(1)((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));t.exports=r},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}},function(t,e){t.exports=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}},function(t,e){var n=function(t){return(t<10?"0":"")+t},r="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};t.exports=r},function(t,e,n){var r=n(61),i=n(0),o=n(62),s=i((function(t,e){return o(r(t),e)}));t.exports=s},function(t,e){t.exports=function(t){return function(){return!t.apply(this,arguments)}}},function(t,e,n){var r=n(0),i=n(63),o=n(65),s=n(17),a=n(14),u=n(66),c=n(10),l=r(i(["filter"],u,(function(t,e){return s(e)?a((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},c(e)):o(t,e)})));t.exports=l},function(t,e,n){var r=n(7),i=n(64);t.exports=function(t,e,n){return function(){if(0===arguments.length)return n();var o=Array.prototype.slice.call(arguments,0),s=o.pop();if(!r(s)){for(var a=0;a<t.length;){if("function"==typeof s[t[a]])return s[t[a]].apply(s,o);a+=1}if(i(s)){var u=e.apply(null,o);return u(s)}}return n.apply(this,arguments)}}},function(t,e){t.exports=function(t){return null!=t&&"function"==typeof t["@@transducer/step"]}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,i=[];n<r;)t(e[n])&&(i[i.length]=e[n]),n+=1;return i}},function(t,e,n){var r=n(0),i=n(67),o=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=i.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),s=r((function(t,e){return new o(t,e)}));t.exports=s},function(t,e){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},function(t,e,n){var r=n(0),i=n(69),o=r((function(t,e){return i([t],e)[0]}));t.exports=o},function(t,e,n){var r=n(0),i=n(70),o=n(71),s=r((function(t,e){return t.map((function(t){for(var n,r=e,s=0;s<t.length;){if(null==r)return;n=t[s],r=i(n)?o(n,r):r[n],s+=1}return r}))}));t.exports=s},function(t,e){t.exports=Number.isInteger||function(t){return t<<0===t}},function(t,e,n){var r=n(0),i=n(8),o=r((function(t,e){var n=t<0?e.length+t:t;return i(e)?e.charAt(n):e[n]}));t.exports=o},function(t,e,n){var r=n(6),i=n(17),o=n(73),s=r((function t(e,n,r){return o((function(n,r,o){return i(r)&&i(o)?t(e,r,o):e(n,r,o)}),n,r)}));t.exports=s},function(t,e,n){var r=n(6),i=n(3),o=r((function(t,e,n){var r,o={};for(r in e)i(r,e)&&(o[r]=i(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)i(r,n)&&!i(r,o)&&(o[r]=n[r]);return o}));t.exports=o},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"merge",(function(){return o.a})),n.d(r,"sortBy",(function(){return a.a})),n.d(r,"compose",(function(){return c.a})),n.d(r,"toLower",(function(){return f.a})),n.d(r,"prop",(function(){return h.a})),n.d(r,"reverse",(function(){return v.a})),n.d(r,"mergeDeepLeft",(function(){return m.a}));n(28);new class{constructor(){window.NBBLOG=console.log,console.log=this.log}log(){window.NBBOPTIONS&&window.NBBOPTIONS.debug&&window.NBBLOG.apply(this,arguments)}};n(31);var i=n(11),o=n.n(i),s=n(12),a=n.n(s),u=n(13),c=n.n(u),l=n(16),f=n.n(l),p=n(18),h=n.n(p),d=n(9),v=n.n(d),g=n(19),m=n.n(g),y=n(20);window.RAMDA=r,window.NBBMODULECLASS=class{constructor(t,e){this.name="module",this.label="MODULE",this.ready=!1,this.options=e,this.defaults={},this.event=new y.EventEmitter,this.items=[],t&&(this.parent=t),this.parent&&(this.parent.app&&(this.app=this.parent.app))}on(){this.event.on.apply(this.event,Array.from(arguments))}emit(){this.event.emit.apply(this.event,Array.from(arguments))}get(t,e){return this.items.filter(n=>{if(n.id===t)return e!==n.id})[0]}getF(t,e,n){return this.items.filter(r=>{if(r[t]===e)return n!==r[t]})[0]}toDOM(t){return(new DOMParser).parseFromString(t,"text/html").documentElement.querySelector("body").firstChild}fetch(t,e){return!e&&(e={method:"GET"}),fetch(t,e).then(t=>t.ok?t.json():Promise.reject(t.statusText))}};var b=n(21),x=n.n(b),w=n(22),O=n.n(w),j=n(23),L=n.n(j);class _ extends NBBMODULECLASS{constructor(t,e){return super(t,e),new Promise((t,n)=>{this.label="FOLDERITEM",this.options=e,this.folders=this.options.childs.filter(t=>"folder"===t.type),this.images=this.options.childs.filter(t=>"image"===t.type),this.target=this.toDOM(L()({scope:{name:this.options.folderName}})),this.target.onclick=t=>this.select(t),this.parent.foldersElement.append(this.target),t()})}select(t){this.parent.parent.setLocationHash(encodeURI(this.options.pathExtracted))}exposeThumbnails(){this.thumbnails=[],console.log(">>> CHILD",this.options.folderName),this.options.childs.forEach(t=>{console.log(">>> CHILD",t.folderName,t)})}}var E=n(24),S=n.n(E),A=[{name:"c",size:200,media:"(max-width: 1400px)"},{name:"i",size:700,media:"(min-width: 1400px)"}];class B extends NBBMODULECLASS{constructor(t,e){return super(t,e),new Promise((t,n)=>{this.options=e,this.thumbnailSizeKey="d",this.imageDataUrl=`${this.parent.urlImageBase}/${this.options.pathExtracted}`,this.thumbnailUrl=`${this.parent.urlMediaBase}/${this.thumbnailSizeKey}/${this.options.pathExtracted}`,this.exposeThumbnails(),this.target=this.toDOM(S()({scope:{name:this.options.fileName,thumbnailUrl:this.thumbnailUrl,thumbnails:this.thumbnails}})),this.target.onclick=t=>this.select(t),this.parent.filesElement.append(this.target),t()})}select(t){this.parent.parent.setLocationHash(this.options.pathExtracted)}exposeThumbnails(){this.thumbnails=[],A.forEach(t=>{this.thumbnails.push({url:encodeURI(`${this.parent.urlMediaBase}/${t.name}/${this.options.pathExtracted}`),media:t.media})})}}class M extends NBBMODULECLASS{constructor(t,e){super(t,e),this.label="FOLDER",this.options=e,this.urlFolderBase=this.app.urlFolderBase,this.urlImageBase=this.app.urlImageBase,this.urlMediaBase=this.app.urlMediaBase,this.includes={images:["jpg","JPG","JPEG","jpeg","png","PNG"]},this.app.on("ready",()=>this.parent.getLocationHash()),this.parent.on("hashchange",()=>this.get()),this.on("data",t=>{this.parent.emit("data",t),this.draw(t)})}get(){this.target;let t=this.parent.locationExtracted.join("/");const e=(this.parent.locationExtracted[this.parent.locationExtracted.length-1].match(/\.([^.]*?)(?=\?|#|$)/)||[])[1];let n;e?this.includes.images.includes(e)&&(n=`${this.urlImageBase}/${t}`):n=t?`${this.urlFolderBase}/${t}`:""+this.urlFolderBase,this.fetch(n).then(t=>this.emit("data",t))}draw(t){const e=t.file;!e&&this.drawFolder(t),e&&("image"===e.type&&this.drawImage(t))}drawFolder(t){this.remove(),this.target=this.toDOM(O()({scope:{}})),this.parent.target.append(this.target),this.foldersElement=this.target.querySelector("[data-folders]"),this.filesElement=this.target.querySelector("[data-files]");const e=t.data.childs.filter(t=>"folder"===t.type),n=t.data.childs.filter(t=>"image"===t.type);console.log(this.label,"FOLDERS",e.length),console.log(this.label,"FILES",n.length),this.folders=[],e.length>0&&e.forEach(t=>{const e=new _(this,t);this.items.push(e),this.folders.push(e)}),this.images=[],n.length>0&&n.forEach(t=>{const e=new B(this,t);this.items.push(e),this.images.push(e)})}drawImage(t){}remove(){this.target&&this.target.remove()}}var C=n(25),N=n.n(C);class T extends NBBMODULECLASS{constructor(t,e){super(t,e),this.options=e,this.target=this.toDOM(N()({scope:{}})),this.parent.target.append(this.target)}set(t){this.target.innerHTML=t}}var I=n(26),D=n.n(I),U=n(27),F=n.n(U);class P extends NBBMODULECLASS{constructor(t,e){super(t,e),this.options=e,this.target=this.toDOM(D()({scope:{}})),this.parent.target.append(this.target)}set(t){this.data=t,this.draw()}flush(){this.items.length>0&&this.items.forEach(t=>t.remove()),this.items=[]}draw(){this.flush();let t="";this.createItem("Home",t),""!==this.data.pathCrumped[0]&&this.data.pathCrumped.forEach((e,n)=>{0===n&&(t=""+e),0!==n&&(t=`${t}/${e}`),this.createItem(e,t)})}createItem(t,e){const n=this.toDOM(F()({scope:{name:t}}));n.uriHash=e,n.onclick=t=>this.select(t),this.target.append(n),this.items.push(n)}select(t){t.preventDefault(),console.log(">>>",t.target.uriHash),this.parent.setLocationHash(encodeURI(t.target.uriHash))}}class H extends NBBMODULECLASS{constructor(t,e){return super(t,e),new Promise((t,n)=>{this.label="BROWSER",this.options=e,window.addEventListener("hashchange",()=>this.getLocationHash(),!1),this.on("data",t=>{console.log(">>> GOT DATA",t.data.type,t.data.id),this.pageTitle.set(t.data.folderName),this.breadcrump.set(t.data)}),this.target=this.toDOM(x()({scope:{}})),this.parent.target.append(this.target),this.pageTitle=new T(this),this.breadcrump=new P(this),this.folder=new M(this),t()})}getLocationHash(){const t=new URL(document.location);this.locationHash=t.hash.replace(/#/,""),console.log(this.label,"GOT LOCATION HASH",this.locationHash,this.locationExtracted)}setLocationHash(t){window.location.hash="#"+t}get locationHash(){return this._locationHash}set locationHash(t){this._locationHash=t,this.locationExtracted=this.locationHash.split("/"),this.emit("hashchange")}}class k extends NBBMODULECLASS{constructor(t){return super(),new Promise((e,n)=>(this.label="APP",console.log(this.label,"INIT"),this.app=this,this.options=t,this.options.debug?(this.urlFolderBase="http://localhost:9000/v1/folder",this.urlImageBase="http://localhost:9000/v1/image",this.urlMediaBase="http://localhost:9000/v1/media"):(this.urlFolderBase=this.options.urlFolderBase,this.urlImageBase=this.options.urlImageBase,this.urlMediaBase=this.options.urlMediaBase),this.rootElement=this.options.target,this.target=this.rootElement,this.on("ready",()=>e()),new H(this).then(t=>{this.browser=t,this.emit("ready")})))}}window.NBB=k}]);